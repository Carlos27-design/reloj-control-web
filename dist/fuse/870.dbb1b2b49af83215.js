"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[870],{9870:(te,x,l)=>{l.r(x),l.d(x,{TrabajadorModule:()=>ee});var p=l(6895),h=l(9798),f=l(6308),u=l(7155),e=l(4650),_=l(6514),c=l(2510),b=l(4859),v=l(7392);function y(r,n){1&r&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Rut "),e.qZA())}function A(r,n){if(1&r&&(e.TgZ(0,"mat-cell",28),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.rut," ")}}function j(r,n){1&r&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Nombre "),e.qZA())}function w(r,n){if(1&r&&(e.TgZ(0,"mat-cell",29),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function N(r,n){1&r&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Apellido "),e.qZA())}function k(r,n){if(1&r&&(e.TgZ(0,"mat-cell",30),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Udp("color",t.rut),e.xp6(1),e.hij(" ",t.apellido," ")}}function U(r,n){1&r&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Creado "),e.qZA())}function M(r,n){if(1&r&&(e.TgZ(0,"mat-cell",31),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=n.$implicit;e.Udp("color",t.rut),e.xp6(1),e.hij(" ",e.xi3(2,3,t.created_at,"dd - MM - yyyy")," ")}}function q(r,n){1&r&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Actualizado "),e.qZA())}function G(r,n){if(1&r&&(e.TgZ(0,"mat-cell",32),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=n.$implicit;e.Udp("color",t.rut),e.xp6(1),e.hij(" ",e.xi3(2,3,t.updated_at,"dd - MM - yyyy")," ")}}function I(r,n){1&r&&e._UZ(0,"mat-header-row")}function J(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-row",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.toModificar(m))}),e.qZA()}}const R=function(){return[10,15,25,100]};let Y=(()=>{class r{constructor(t,o){this._trabajadorService=t,this._router=o,this.displayedColumns=["Rut","Nombre","Apellido","Creado","Actualizado"],this.dataSource=new u.by,this.resultsLenght=0}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){this.getData()}getData(){this._trabajadorService.getAll().subscribe(t=>{this.dataSource.data=t,this.resultsLenght=this.dataSource.data.length},t=>{console.log(t)})}toNuevo(){this._router.navigate(["trabajador/nuevo"])}toModificar(t){this._router.navigate(["trabajador/modificar",{trabajadorId:t.id}])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.B),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trabajador"]],viewQuery:function(t,o){if(1&t&&(e.Gf(f.YE,5),e.Gf(h.NW,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.sort=a.first),e.iGM(a=e.CRH())&&(o.paginator=a.first)}},decls:34,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","items-start","justify-start"],["mat-button","","color","primary",3,"click"],[3,"svgIcon"],[1,"table-responsive"],["matSort","",3,"dataSource"],["matColumnDef","Rut"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","Rut",4,"matCellDef"],["matColumnDef","Nombre"],["data-label","Nombre",4,"matCellDef"],["matColumnDef","Apellido"],["data-label","Apellido",3,"color",4,"matCellDef"],["matColumnDef","Creado"],["data-label","Creado",3,"color",4,"matCellDef"],["matColumnDef","Actualizado"],["data-label","Actualizado",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["data-label","Rut"],["data-label","Nombre"],["data-label","Apellido"],["data-label","Creado"],["data-label","Actualizado"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._uU(6,"Trabajadores"),e.qZA()(),e.TgZ(7,"h2",6),e._uU(8," Lista de Trabajadores "),e.qZA()()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9),e.NdJ("click",function(){return o.toNuevo()}),e._uU(12,"Nuevo Trabajador "),e._UZ(13,"mat-icon",10),e.qZA()(),e.TgZ(14,"div",11)(15,"mat-table",12),e.ynx(16,13),e.YNc(17,y,2,0,"mat-header-cell",14),e.YNc(18,A,2,1,"mat-cell",15),e.BQk(),e.ynx(19,16),e.YNc(20,j,2,0,"mat-header-cell",14),e.YNc(21,w,2,1,"mat-cell",17),e.BQk(),e.ynx(22,18),e.YNc(23,N,2,0,"mat-header-cell",14),e.YNc(24,k,2,3,"mat-cell",19),e.BQk(),e.ynx(25,20),e.YNc(26,U,2,0,"mat-header-cell",14),e.YNc(27,M,3,6,"mat-cell",21),e.BQk(),e.ynx(28,22),e.YNc(29,q,2,0,"mat-header-cell",14),e.YNc(30,G,3,6,"mat-cell",23),e.BQk(),e.YNc(31,I,1,0,"mat-header-row",24),e.YNc(32,J,1,0,"mat-row",25),e.qZA()(),e._UZ(33,"mat-paginator",26),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,R)))},dependencies:[b.lW,f.YE,f.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,h.NW,v.Hw,p.uU],styles:[".mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f5f5f5}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.table-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}.table-responsive[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:table-row}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 5px;line-break:unset;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle}"]}),r})();var S=l(4850),D=l(3546),Q=l(4466),T=l(4144),O=l(1677),g=l(9549),B=l(2003),i=l(4006);class C{}function E(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Rut es Requerido"),e.qZA())}function P(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Nombre es Requerido"),e.qZA())}function z(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Apellido es Requerido"),e.qZA())}let F=(()=>{class r{constructor(t,o,a){this._router=t,this._trabajadorService=o,this._formBuilder=a,this.desactivarGuardar=!1,this.formGroup=this._formBuilder.group({rut:["",[i.kI.required]],nombre:["",[i.kI.required]],apellido:["",[i.kI.required]]})}ngOnInit(){}onSubmit(){let t=new C;t.rut=this.formGroup.value.rut,t.nombre=this.formGroup.value.nombre,t.apellido=this.formGroup.value.apellido,this._trabajadorService.create(t).subscribe(o=>{this.toBack()},o=>{this.formGroup.get("rut").setValue(""),this.formGroup.get("nombre").setValue(""),this.formGroup.get("apellido").setValue("")})}toBack(){this._router.navigate(["trabajador"])}formatRut(){for(var t=this.formGroup.value.rut,o=0,a="",m="",d=(t=t.replace(/\.|-/g,"")).length-1;d>=0;d--)a+=t.charAt(d),d==t.length-1?a+="-":3==o&&(a+=".",o=0),o++;for(var s=a.length-1;s>=0;s--)("."!=a.charAt(a.length-1)||s!=a.length-1)&&(m+=a.charAt(s));this.formGroup.get("rut").setValue(m.toUpperCase())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.F0),e.Y36(_.B),e.Y36(i.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-nuevo"]],decls:33,vars:5,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"mt-2"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","p-6","sm:p-10"],[3,"formGroup","ngSubmit"],["form","ngForm"],[1,"grid","md:grid-cols-2","md:gap-6"],[1,"relative","z-0","w-full","mb-6","group"],["type","text","place","","formControlName","rut",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"keyup"],["for","",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[4,"ngIf"],["type","text","name","nombre","formControlName","nombre",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","nombre",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","text","formControlName","apellido",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"flex","items-start","justify-start"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._uU(5,"Trabajador"),e.qZA()(),e.TgZ(6,"h2",5),e._uU(7," Nuevo "),e.qZA()()(),e.TgZ(8,"div",6)(9,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(a);const d=e.MAs(10);return o.onSubmit(),e.KtG(d.reset())}),e.TgZ(11,"div",9)(12,"div",10)(13,"input",11),e.NdJ("keyup",function(){return o.formatRut()}),e.qZA(),e.TgZ(14,"label",12),e._uU(15,"Rut:"),e.qZA(),e.YNc(16,E,2,0,"mat-error",13),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"input",14),e.TgZ(19,"label",15),e._uU(20,"Nombre:"),e.qZA(),e.YNc(21,P,2,0,"mat-error",13),e.qZA()(),e.TgZ(22,"div",9)(23,"div",10),e._UZ(24,"input",16),e.TgZ(25,"label",15),e._uU(26,"Apellido:"),e.qZA(),e.YNc(27,z,2,0,"mat-error",13),e.qZA()(),e.TgZ(28,"div",17)(29,"button",18),e.NdJ("click",function(){return o.toBack()}),e._uU(30,"Volver"),e.qZA(),e.TgZ(31,"button",19),e._uU(32,"Crear Trabajador"),e.qZA()()()()()}2&t&&(e.xp6(9),e.Q6J("formGroup",o.formGroup),e.xp6(7),e.Q6J("ngIf",o.formGroup.get("rut").hasError("required")),e.xp6(5),e.Q6J("ngIf",o.formGroup.get("nombre").hasError("required")),e.xp6(6),e.Q6J("ngIf",o.formGroup.get("apellido").hasError("required")),e.xp6(4),e.Q6J("disabled",o.formGroup.invalid))},dependencies:[p.O5,b.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,g.TO]}),r})();var V=l(1683);function H(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Rut es Requerido"),e.qZA())}function L(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Nombre es Requerido"),e.qZA())}function $(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"El Apellido es Requerido"),e.qZA())}let W=(()=>{class r{constructor(t,o,a,m,d){this._router=t,this._route=o,this._trabajadorService=a,this._formBuilder=m,this._fuseConfirmationService=d,this.formGroup=this._formBuilder.group({rut:["",[i.kI.required]],nombre:["",[i.kI.required]],apellido:["",[i.kI.required]]})}ngOnInit(){this.trabajadorId=parseInt(this._route.snapshot.paramMap.get("trabajadorId")),this.getData()}getData(){this._trabajadorService.get(this.trabajadorId).subscribe(t=>{this.formGroup.get("rut").setValue(t.rut),this.formGroup.get("nombre").setValue(t.nombre),this.formGroup.get("apellido").setValue(t.apellido)},t=>{console.log(t)})}onUpdate(){let t=new C;t.rut=this.formGroup.value.rut,t.nombre=this.formGroup.value.nombre,t.apellido=this.formGroup.value.apellido,this._trabajadorService.update(this.trabajadorId,t).subscribe(o=>{this.toBack()},o=>{console.log(o)})}onDelete(){this._fuseConfirmationService.open({title:"Eliminar Trabajador",message:"\xbfEstas seguro que deseas eliminar el trabajador?",actions:{confirm:{label:"Eliminar"},cancel:{label:"Cancelar"}}}).afterClosed().subscribe(o=>{"confirmed"===o&&this._trabajadorService.delete(this.trabajadorId).subscribe(a=>{this.toBack()},a=>{})})}formatRut(){for(var t=this.formGroup.value.rut,o=0,a="",m="",d=(t=t.replace(/\.|-/g,"")).length-1;d>=0;d--)a+=t.charAt(d),d==t.length-1?a+="-":3==o&&(a+=".",o=0),o++;for(var s=a.length-1;s>=0;s--)("."!=a.charAt(a.length-1)||s!=a.length-1)&&(m+=a.charAt(s));this.formGroup.get("rut").setValue(m.toUpperCase())}toBack(){this._router.navigate(["trabajador"])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.F0),e.Y36(c.gz),e.Y36(_.B),e.Y36(i.qu),e.Y36(V.R))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-modificar"]],decls:31,vars:5,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"mt-2"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex-col","p-3","sm:p-2"],["mat-button","","color","warn",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","mt-8","p-8","pb-4","bg-card","rounded-2xl","shadow","overflow-hidden",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3"],["type","text","matInput","","placeholder","Rut","formControlName","rut",3,"keyup"],[4,"ngIf"],[1,"flex-auto","gt-xs:pl-3"],["type","text","matInput","","placeholder","Nombre","formControlName","nombre"],["type","text","matInput","","placeholder","Apellido","formControlName","apellido"],[1,"flex","items-start","justify-start"],["mat-button","",3,"click"],["mat-raised-button","","color","primary"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._uU(5,"Trabajador"),e.qZA()(),e.TgZ(6,"h2",5),e._uU(7," Modificar "),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"button",8),e.NdJ("click",function(){return o.onDelete()}),e._uU(11,"Eliminar trabajador "),e._UZ(12,"mat-icon",9),e.qZA()(),e.TgZ(13,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(a);const d=e.MAs(14);return o.onUpdate(),e.KtG(d.reset())}),e.TgZ(15,"div",12)(16,"mat-form-field",13)(17,"input",14),e.NdJ("keyup",function(){return o.formatRut()}),e.qZA(),e.YNc(18,H,2,0,"mat-error",15),e.qZA(),e.TgZ(19,"mat-form-field",16),e._UZ(20,"input",17),e.YNc(21,L,2,0,"mat-error",15),e.qZA()(),e.TgZ(22,"div",12)(23,"mat-form-field",13),e._UZ(24,"input",18),e.YNc(25,$,2,0,"mat-error",15),e.qZA()(),e.TgZ(26,"div",19)(27,"button",20),e.NdJ("click",function(){return o.toBack()}),e._uU(28,"Volver"),e.qZA(),e.TgZ(29,"button",21),e._uU(30,"Modificar Trabajador"),e.qZA()()()()()}2&t&&(e.xp6(12),e.Q6J("svgIcon","heroicons_solid:trash"),e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(5),e.Q6J("ngIf",o.formGroup.get("rut").hasError("required")),e.xp6(3),e.Q6J("ngIf",o.formGroup.get("nombre").hasError("required")),e.xp6(4),e.Q6J("ngIf",o.formGroup.get("apellido").hasError("required")))},dependencies:[p.O5,b.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,g.TO,g.KE,T.Nt,v.Hw]}),r})();var X=l(9131),Z=l(6525);const K=[{path:"",canActivate:[X.k],component:Y},{path:"nuevo",canActivate:[Z.u],component:F},{path:"modificar",canActivate:[Z.u],component:W}];let ee=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,c.Bz.forChild(K),b.ot,D.QW,f.JX,u.p0,h.TU,S.t,Q.m,T.c,O.o9,g.lN,v.Ps,B.$]}),r})()}}]);